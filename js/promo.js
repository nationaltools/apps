 (function($){function elegantPopup(config){var config=config||{},slidein=set_default(config.slideinhtml,''),join=set_default(config.joinhtml,''),offer=set_default(config.offerhtml,'');flyin=set_default(config.flyinhtml,''),popup=set_default(config.popuphtml,''),cookieExpire=config.cookieExpire||5500,autospeed=config.autospeed||10000,flyinAutospeed=config.flyinAutospeed||3000,offer_time_30=1800,offer_time_180=10800,offer_time_1440=86400,pathname=window.location.pathname,cookies=get_cookies(),popup_viewed_cookie='popup_viewed',offer_end_cookie='offer_end',offer_start_cookie='offer_start',offer_last_chance_cookie='offer_last_chance',flyin_status_cookie='flyin_status',slidein_status_cookie='slidein_status',join_status_cookie='join_status',joined_cookie='joined',subscribed_cookie='subscribed_2',popup_viewed=cookies[popup_viewed_cookie],offer_end=cookies[offer_end_cookie],offer_start=cookies[offer_start_cookie],offer_last_chance=cookies[offer_last_chance_cookie],flyin_status=cookies[flyin_status_cookie],slidein_status=cookies[slidein_status_cookie],join_status=cookies[join_status_cookie],joined=cookies[joined_cookie],subscribed=cookies[subscribed_cookie],click_source=getParameterByName('utm_medium');if(pathname.includes('/blog/divi-resources')){var active_promo='divi';}else if(pathname.includes('/blog')){var active_promo='blog';}else if(pathname.includes('/members-area')){var active_promo='members';}else{var active_promo='discount';}
if(pathname.includes('/register')){var offer_time=offer_time_180,enable_offer='true';}else if(pathname.includes('/discount')){var offer_time=offer_time_1440,enable_offer='true';}
if(pathname.includes('/register')||pathname.includes('/renew')||pathname.includes('/checkout')||pathname.includes('/discount')||pathname.includes('/black-friday')||pathname.includes('/cyber-monday')||pathname.includes('/join')||pathname.includes('/preview')||pathname.includes('-complete/')){var disable_promo='true';}
if(pathname.includes('-complete/')){set_cookie(joined_cookie,'true','true');set_cookie(join_status_cookie,'closed','true');}
if(pathname.includes('/members-area/')){var members_area='true';}
if(pathname.includes('/join')){set_cookie(join_status_cookie,'open','true');}
if(active_promo=='divi'){var flyin=set_default(config.divi_flyinhtml,''),popup=set_default(config.divi_popuphtml,'');}else if(active_promo=='blog'){var flyin=set_default(config.blog_flyinhtml,''),popup=set_default(config.blog_popuphtml,'');}else if(active_promo=='members'){var flyin=set_default(config.members_flyinhtml,''),popup=set_default(config.members_popuphtml,'');}
if(!offer_end&&!joined&&enable_offer=='true'){var current_time=$.now();set_cookie(offer_start_cookie,current_time,'true');set_cookie(offer_end_cookie,offer_time,'true');var timer=offer_time;}else{var current_time=$.now(),used_time=(current_time-offer_start)/1000,timer=offer_end-used_time;if(offer_end-used_time<=0){var offer_expired='true';}}
if($('#limited-offer-countdown').length){$('#limited-offer-countdown').countdown({until:timer,onExpiry:end_countdown,onTick:callbacks,format:'HMS'});}
if(pathname=='/discount/today/'&&offer_expired){if(offer_last_chance=='false'){window.location.href='https://www.elegantthemes.com/join/';}else{$('#countdown-popup').show();}}
$('#countdown-popup .button').on('click',function(){extend_offer();});if(!slidein_status){set_cookie(slidein_status_cookie,'open','true');slidein_status=get_cookie(slidein_status_cookie);}
if(!flyin_status){set_cookie(flyin_status_cookie,'open','true');}
if(!disable_promo&&join_status==='open'&&!joined&&!members_area&&(!timer||offer_expired)){fire_join();}
if(!disable_promo&&slidein_status==='open'&&join_status!='open'&&!joined&&(!timer||offer_expired)){fire_slidein();}
if(!disable_promo&&!popup_viewed&&click_source!='email'&&(slidein_status!='open'||joined)&&!subscribed&&(!timer||offer_expired||joined)){setTimeout(function(){if(popup_viewed==='true'){return;}
fire_popup();},autospeed);}
if(!disable_promo&&!subscribed&&popup_viewed&&(slidein_status!='open'||joined)&&(!timer||offer_expired||joined)){if(flyin_status==='closed'){flyinAutospeed=0;}
setTimeout(function(){fire_flyin();},flyinAutospeed);}
if(!disable_promo&&!joined&&offer_end&&!offer_expired&&!members_area){fire_offer();}
function fire_slidein(){$("body").prepend(slidein);$("body").addClass('with_promo_slide_in');$('.promo-slide-in .button').on('click',function(){disable_slidein();});$('.promo-slide-in-close-promo').on('click',function(){disable_slidein();$("body").removeClass('with_promo_slide_in');$("body").addClass('without_promo_slide_in');$('.promo-slide-in').addClass("promo-slide-in-closed").delay(299).queue(function(next){$(this).hide();});});}
function fire_join(){$("body").prepend(join);$("body").addClass('with_promo_slide_in');$('.promo-slide-in-close-promo').on('click',function(){disable_join();disable_slidein();$("body").removeClass('with_promo_slide_in');$("body").addClass('without_promo_slide_in');$('.promo-slide-in').addClass("promo-slide-in-closed").delay(299).queue(function(next){$(this).hide();});});}
function fire_offer(){if($('.et_cookie_consent').length){return;}
$("body").append(offer);$('#limited-offer-countdown').countdown({until:timer,onExpiry:end_countdown,onTick:callbacks,format:'HMS'});}
function fire_popup(){if($('.et_cookie_consent').length){return;}
$("body").append(popup);$("#exitpopup").show();disable_popup();$('#exit_subscribe').on('click',function(){subscribe();});$('.exit-button').on('click',function(){$("#exitpopup").hide();});$(".exit-button").hover(function(){$(".exit_warning").fadeIn(200);},function(){$(".exit_warning").fadeOut(200);});}
function fire_flyin(){if($('.et_cookie_consent').length){return;}
var flyin_status=get_cookie(flyin_status_cookie);$("body").append(flyin);if(flyin_status==='closed'){$('#flyinwrapper').addClass("minimize stopanimate");}else{$('#flyinwrapper').removeClass("minimize");}
$('.exit-button').on('click',function(){$('#flyinwrapper').addClass("minimize");minimize_flyin();});$('#flying_subscribe').on('click',function(){subscribe();});$('.flyinbutton').on('click',function(){$('#flyinwrapper').removeClass("minimize");minimize_flyin();});}
function callbacks(periods){if($.countdown.periodsToSeconds(periods)<=0){end_countdown();}}
function end_countdown(){$('#flyin').remove();$('#countdown-popup').show();}
function extend_offer(){var current_time=$.now();set_cookie(offer_last_chance_cookie,'false','true');set_cookie(offer_start_cookie,current_time,'true');set_cookie(offer_end_cookie,offer_time_30,'true');location.reload(true);}
function disable_popup(){set_cookie(popup_viewed_cookie,'true','true');}
function disable_slidein(){set_cookie(slidein_status_cookie,'closed','true');}
function disable_join(){set_cookie(join_status_cookie,'closed','true');}
function subscribe(){set_cookie(subscribed_cookie,'true','true');}
function minimize_flyin(){var flyin_status=get_cookie(flyin_status_cookie);if(flyin_status==='open'){set_cookie(flyin_status_cookie,'closed','true');}else{set_cookie(flyin_status_cookie,'open','true');}}
function set_default(_property,_default){return typeof _property==='undefined'?_default:_property;}
function set_cookie(cookieName,value,setExpire){Cookies.remove(cookieName);if(setExpire==='false'){Cookies.set(cookieName,value,{path:'/'});}else{Cookies.set(cookieName,value,{expires:cookieExpire,path:'/'});}}
function getParameterByName(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search)
return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "));}
function get_cookies(){var document_cookies=document.cookie.split('; ').reduce(function(prev,curr){var el=curr.split('=');prev[el[0]]=el[1];return prev;},{});return document_cookies;}
function get_cookie(name){var value="; "+document.cookie,parts=value.split("; "+name+"=")
if(parts.length==2)return parts.pop().split(";").shift();}};$(document).ready(function(){var _elegantPopup=elegantPopup({popuphtml:'<div id="exitpopup" class="cover-popup with-icon"><div class="accent-pink card"><img class="popup-image" width="240" height="240" src="/images/popup-image-discount.png" alt="10% Off" /><span class="exit_warning elevation-1">Offer Pop-Ups Are Only Displayed Once!</span> <h2>Wait! Get The Discount</h2> <p>Today we are offering a special 10% discount for all new Elegant Themes members. Get Divi and all of our WordPress products today for a sweet deal.</p><form action="//elegantthemes.us7.list-manage.com/subscribe/post?u=9ae7aa91c578052b052b864d6&amp;id=c886a2fc0a" method="post"name="mc-embedded-subscribe-form" target="_blank" novalidate> <div class="et_manage_input"> <input type="email" placeholder="Enter Your Email Address "value="" name="EMAIL" id="exit_emailinput"><label>Enter Your Email Address</label> </div><input type="hidden" name="MMERGE4" id="MMERGE4" size="25" value="Home"><input type="hidden" name="MMERGE8" id="MMERGE8" value="Potential Customer"><select style="display: none;" name="group[4377]" class="REQ_CSS" id="mce-group[4377]"> <option value=""></option> <option value="1">Daily</option> <option value="2" selected>Weekly</option> <option value="32">Monthly</option> </select> <select style="display: none;" name="group[4393]" class="REQ_CSS" id="mce-group[4393]"> <option value=""></option> <option value="4">Daily</option> <option value="8">Weekly</option> <option value="16" selected>Monthly</option> </select> <input type="submit" value="Send Me My Discount!" name="subscribe" id="exit_subscribe" class="button primary-button fullwidth-button"> </form><p class="privacy-statement">Data stored as outlined in our <a target="_blank" href="https://www.elegantthemes.com/policy/privacy/">Privacy Policy</a></p><span class="exit-button elevation-1"></span></div>',members_popuphtml:'<div id="exitpopup" class="cover-popup with-icon"><div class="accent-green card"><span class="exit_warning elevation-1">Offer Pop-Ups Are Only Displayed Once!</span><img class="popup-image" width="240" height="240" src="/images/popup-image-members.png" alt="10% Off" /> <h2>Download The FREE Divi UI Kit!</h2> <p>Plus get free and exclusive Divi resources, tips, tricks and tutorials right to your inbox.</p><form action="//elegantthemes.us7.list-manage.com/subscribe/post?u=9ae7aa91c578052b052b864d6&amp;id=c886a2fc0a" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate><div class="et_manage_input"> <input type="email" placeholder="Enter Your Email Address "value="" name="EMAIL" id="exit_emailinput"><label>Enter Your Email Address</label> </div><input type="hidden" name="MMERGE4" id="MMERGE4" size="25" value="Divi"><input type="hidden" name="MMERGE8" id="MMERGE8" value="Customer"><select style="display: none;" name="group[4377]" class="REQ_CSS" id="mce-group[4377]"><option value=""></option><option value="1">Daily</option><option value="2" selected>Weekly</option><option value="32">Monthly</option></select><select style="display: none;" name="group[4393]" class="REQ_CSS" id="mce-group[4393]"><option value=""></option><option value="4" selected>Daily</option><option value="8">Weekly</option><option value="16">Monthly</option></select><input type="submit" value="Download For Free" name="subscribe" id="exit_subscribe" class="button primary-button fullwidth-button"></form><p class="privacy-statement">Data stored as outlined in our <a target="_blank" href="https://www.elegantthemes.com/policy/privacy/">Privacy Policy</a></p><span class="exit-button elevation-1"></span></div>',divi_popuphtml:'<div id="exitpopup" class="cover-popup with-icon"><div class="accent-purple card"><span class="exit_warning elevation-1">Offer Pop-Ups Are Only Displayed Once!</span><img class="popup-image" width="240" height="240" src="/images/popup-image-divi.png" alt="10% Off" /> <h2>Download The FREE Divi UI Kit!</h2> <p>Plus get free and exclusive Divi resources, tips, tricks and tutorials right to your inbox.</p><form action="//elegantthemes.us7.list-manage.com/subscribe/post?u=9ae7aa91c578052b052b864d6&amp;id=c886a2fc0a" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate><div class="et_manage_input"> <input type="email" placeholder="Enter Your Email Address "value="" name="EMAIL" id="exit_emailinput"><label>Enter Your Email Address</label> </div><input type="hidden" name="MMERGE4" id="MMERGE4" size="25" value="Divi"><input type="hidden" name="MMERGE8" id="MMERGE8" value="Customer"><select style="display: none;" name="group[4377]" class="REQ_CSS" id="mce-group[4377]"><option value=""></option><option value="1">Daily</option><option value="2" selected>Weekly</option><option value="32">Monthly</option></select><select style="display: none;" name="group[4393]" class="REQ_CSS" id="mce-group[4393]"><option value=""></option><option value="4" selected>Daily</option><option value="8">Weekly</option><option value="16">Monthly</option></select><input type="submit" value="Download For Free" name="subscribe" id="exit_subscribe" class="button primary-button fullwidth-button"></form><p class="privacy-statement">Data stored as outlined in our <a target="_blank" href="https://www.elegantthemes.com/policy/privacy/">Privacy Policy</a></p><span class="exit-button elevation-1"></span></div>',blog_popuphtml:'<div id="exitpopup" class="cover-popup with-icon"><div class="accent-blue card"><span class="exit_warning elevation-1">Offer Pop-Ups Are Only Displayed Once!</span><img class="popup-image" width="240" height="240" src="/images/popup-image-blog.png" alt="10% Off" /> <h2>The Ultimate WordPress Resource!</h2> <p>Sign up for our newsletter and get access to free downloads, as well as daily WordPress tips, tricks and resources.</p><form action="//elegantthemes.us7.list-manage.com/subscribe/post?u=9ae7aa91c578052b052b864d6&amp;id=c886a2fc0a" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate><div class="et_manage_input"> <input type="email" placeholder="Enter Your Email Address "value="" name="EMAIL" id="exit_emailinput"><label>Enter Your Email Address</label> </div><input type="hidden" name="MMERGE4" id="MMERGE4" size="25" value="Blog"><input type="hidden" name="MMERGE8" id="MMERGE8" value="Blog"><select style="display: none;" name="group[4377]" class="REQ_CSS" id="mce-group[4377]"><option value=""></option><option value="1" selected>Daily</option><option value="2">Weekly</option><option value="32">Monthly</option></select><select style="display: none;" name="group[4393]" class="REQ_CSS" id="mce-group[4393]"><option value=""></option><option value="4">Daily</option><option value="8" selected>Weekly</option><option value="16">Monthly</option></select><input type="submit" value="Give Me Some Free Stuff!" name="subscribe" id="exit_subscribe" class="button primary-button fullwidth-button"></form><p class="privacy-statement">Data stored as outlined in our <a target="_blank" href="https://www.elegantthemes.com/policy/privacy/">Privacy Policy</a></p><span class="exit-button elevation-1"></span></div>',flyinhtml:'<div id="flyinwrapper"> <div id="flyin" class="accent-pink card"> <span class="flyinbutton card-title">Claim Your 10% Discount</span> <h4>Get The Special 10% Off Divi Discount Today!</h4> <form action="//elegantthemes.us7.list-manage.com/subscribe/post?u=9ae7aa91c578052b052b864d6&amp;id=c886a2fc0a" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate><div class="et_manage_input"><input type="email" placeholder="Enter Your Email Address"value="" name="EMAIL" id="flyininput"><label>Enter Your Email Address</label> </div><input type="hidden" name="MMERGE4" id="MMERGE4" size="25" value="Flyin"><input type="hidden" name="MMERGE8" id="MMERGE8" value="Potential Customer"> <select style="display: none;" name="group[4377]" class="REQ_CSS" id="mce-group[4377]"> <option value=""></option> <option value="1">Daily</option> <option value="2" selected>Weekly</option> <option value="32">Monthly</option> </select> <select style="display: none;" name="group[4393]" class="REQ_CSS" id="mce-group[4393]"> <option value=""></option> <option value="4">Daily</option> <option value="8">Weekly</option> <option value="16" selected>Monthly</option> </select> <input type="submit" value="Subscribe And Save" name="subscribe" class="button primary-button" id="flying_subscribe"> </form> <p class="privacy-statement">Data stored as outlined in our <a target="_blank" href="https://www.elegantthemes.com/policy/privacy/">Privacy Policy</a></p><span class="exit-button elevation-1"></span> <img class="flyingift" src="/images/gift-1.png" alt="10% Off Gift" width="114" height="107"/> <img src="/images/gift-2.png" class="flyingift" alt="10% Off Gift" width="114" height="68"/> <img src="/images/gift-3.png" class="flyingift"  alt="10% Off Gift" width="98" height="100"/> </div></div></div>',members_flyinhtml:'<div id="flyinwrapper"> <div id="flyin" class="accent-green card"> <span class="flyinbutton card-title">Get The Divi UI Kit</span> <h4>Download This Awesome Divi Starter Kit For Free!</h4> <form action="//elegantthemes.us7.list-manage.com/subscribe/post?u=9ae7aa91c578052b052b864d6&amp;id=c886a2fc0a" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate><div class="et_manage_input"><input type="email" placeholder="Enter Your Email Address"value="" name="EMAIL" id="flyininput"><label>Enter Your Email Address</label> </div><input type="hidden" name="MMERGE4" id="MMERGE4" size="25" value="Divi"><input type="hidden" name="MMERGE8" id="MMERGE8" value="Customer"><select style="display: none;" name="group[4377]" class="REQ_CSS" id="mce-group[4377]"><option value=""></option><option value="1">Daily</option><option value="2" selected>Weekly</option><option value="32">Monthly</option></select><select style="display: none;" name="group[4393]" class="REQ_CSS" id="mce-group[4393]"><option value=""></option><option value="4" selected>Daily</option><option value="8">Weekly</option><option value="16">Monthly</option></select><input type="submit" value="Subscribe To Download" name="subscribe" id="flying_subscribe" class="button primary-button"></form><p class="privacy-statement">Data stored as outlined in our <a target="_blank" href="https://www.elegantthemes.com/policy/privacy/">Privacy Policy</a></p><span class="exit-button elevation-1"></span> <img class="flyingift" src="/images/gift-1.png" alt="10% Off Gift" width="114" height="107"/> <img src="/images/gift-2.png" class="flyingift" alt="10% Off Gift" width="114" height="68"/> <img src="/images/gift-3.png" class="flyingift"  alt="10% Off Gift" width="98" height="100"/> </div></div></div>',divi_flyinhtml:'<div id="flyinwrapper"> <div id="flyin" class="accent-purple card"> <span class="flyinbutton card-title">Get The Divi UI Kit</span><h4>Download The Ultimate Divi Landing Page Layout Kit</h4><form action="//elegantthemes.us7.list-manage.com/subscribe/post?u=9ae7aa91c578052b052b864d6&amp;id=c886a2fc0a" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate><div class="et_manage_input"><input type="email" placeholder="Enter Your Email Address"value="" name="EMAIL" id="flyininput"><label>Enter Your Email Address</label> </div><input type="hidden" name="MMERGE4" id="MMERGE4" size="25" value="Divi"><input type="hidden" name="MMERGE8" id="MMERGE8" value="Customer"><select style="display: none;" name="group[4377]" class="REQ_CSS" id="mce-group[4377]"><option value=""></option><option value="1">Daily</option><option value="2" selected>Weekly</option><option value="32">Monthly</option></select><select style="display: none;" name="group[4393]" class="REQ_CSS" id="mce-group[4393]"><option value=""></option><option value="4" selected>Daily</option><option value="8">Weekly</option><option value="16">Monthly</option></select><input type="submit" value="Subscribe To Download" name="subscribe" class="button primary-button" id="flying_subscribe"></form><p class="privacy-statement">Data stored as outlined in our <a target="_blank" href="https://www.elegantthemes.com/policy/privacy/">Privacy Policy</a></p><span class="exit-button elevation-1"></span> <img class="flyingift" src="/images/gift-1.png" alt="10% Off Gift" width="114" height="107"/> <img src="/images/gift-2.png" class="flyingift" alt="10% Off Gift" width="114" height="68"/> <img src="/images/gift-3.png" class="flyingift"  alt="10% Off Gift" width="98" height="100"/> </div></div></div>',blog_flyinhtml:'<div id="flyinwrapper"> <div id="flyin" class="accent-blue card"> <span class="flyinbutton card-title">Get All Of Our Best Freebies</span> <h4>Get Our Collection Of Web Design Freebies</h4> <form action="//elegantthemes.us7.list-manage.com/subscribe/post?u=9ae7aa91c578052b052b864d6&amp;id=c886a2fc0a" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate><div class="et_manage_input"><input type="email" placeholder="Enter Your Email Address"value="" name="EMAIL" id="flyininput"><label>Enter Your Email Address</label> </div><input type="hidden" name="MMERGE4" id="MMERGE4" size="25" value="Blog"><input type="hidden" name="MMERGE8" id="MMERGE8" value="Blog"><select style="display: none;" name="group[4377]" class="REQ_CSS" id="mce-group[4377]"><option value=""></option><option value="1" selected>Daily</option><option value="2">Weekly</option><option value="32">Monthly</option></select><select style="display: none;" name="group[4393]" class="REQ_CSS" id="mce-group[4393]"><option value=""></option><option value="4">Daily</option><option value="8" selected>Weekly</option><option value="16">Monthly</option></select><input type="submit" value="Subscribe To Our Blog" name="subscribe" class="button primary-button" id="flying_subscribe"></form> <p class="privacy-statement">Data stored as outlined in our <a target="_blank" href="https://www.elegantthemes.com/policy/privacy/">Privacy Policy</a></p><span class="exit-button elevation-1"></span> <img class="flyingift" src="/images/gift-1.png" alt="10% Off Gift" width="114" height="107"/> <img src="/images/gift-2.png" class="flyingift" alt="10% Off Gift" width="114" height="68"/> <img src="/images/gift-3.png" class="flyingift"  alt="10% Off Gift" width="98" height="100"/> </div></div></div>',slideinhtml:'<div class="promo-slide-in accent-pink card-featured"><div class="promo-slide-in-content"><div class="promo-slide-in-content-inner"><h6>Divi Changes Everything. <span>Give It A Test Drive!</span></h6> <a class="button inline-button" href="/gallery/divi/">Learn More</a></div></div><div class="promo-slide-in-close-promo"></div></div>',joinhtml:'<div class="promo-slide-in accent-blue gradient-background-green"><div class="promo-slide-in-content"><div class="promo-slide-in-content-inner"><h6><img class="promo-slide-in-icon" src="/images/icons/guarantee-icon.png" width="20" height="28" alt="Guarantee" />Risk Free For 30 Days <span>When You Join Today!</span></h6> <a class="button inline-button" href="/join/">Join Today</a></div></div><div class="promo-slide-in-close-promo"></div></div>',offerhtml:'<div id="flyinwrapper" class="limited-offer dark-background with-countdown"><div id="flyin" class="accent-red card"> <h4>You Unlocked A Special Offer!</h4><p>For a short time only, we are offering you 10% off your membership. Claim the discount before it disappears!</p><div id="limited-offer-countdown"></div><a href="/discount/today/" class="button primary-button">Get The Discount</a></div></div></div>',});});})(jQuery)
